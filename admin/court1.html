<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Court 1 - Scorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/admin.css">
  <script type="module" src="/js/court1.js"></script>
</head>
<body>
  <h1>Court 1 Scoring Panel</h1>

  <div class="form-group">
    <label for="matchSelector"><strong>Select Match:</strong></label>
    <select id="matchSelector">
      <option value="">-- Select a Match --</option>
    </select>
  </div>

  <div id="match-info" aria-live="polite">
    <p>Select a match to begin scoring.</p>
  </div>

  <form id="scoreForm" style="display:none;">
    <h2>Enter Scores</h2>
    <table>
      <thead>
        <tr>
          <th>Player</th>
          <th>Set 1</th>
          <th>Set 2</th>
          <th>Set 3</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td id="playerAName">Player A</td>
          <td><input type="number" id="aSet1" min="0" /></td>
          <td id="aSet2Cell" style="display:none;"><input type="number" id="aSet2" min="0" /></td>
          <td id="aSet3Cell" style="display:none;"><input type="number" id="aSet3" min="0" /></td>
        </tr>
        <tr>
          <td id="playerBName">Player B</td>
          <td><input type="number" id="bSet1" min="0" /></td>
          <td id="bSet2Cell" style="display:none;"><input type="number" id="bSet2" min="0" /></td>
          <td id="bSet3Cell" style="display:none;"><input type="number" id="bSet3" min="0" /></td>
        </tr>
      </tbody>
    </table>

    <input type="hidden" id="player1Score" />
    <input type="hidden" id="player2Score" />
    <div id="scoreDisplay" style="margin-top: 10px;"></div>
    <button type="submit" id="submitScoreBtn">Submit Scores</button>
    <button type="button" id="completeMatchBtn" style="display: none;">Mark as Completed</button>
    <button type="button" id="newSetBtn" style="margin-top: 10px;">New Set</button>
  </form>
  <script>
    document.getElementById("scoreForm").addEventListener("submit", function (e) {
      const aSet1 = parseInt(document.getElementById("aSet1").value) || 0;
      const aSet2 = parseInt(document.getElementById("aSet2").value) || 0;
      const aSet3 = parseInt(document.getElementById("aSet3").value) || 0;
      const bSet1 = parseInt(document.getElementById("bSet1").value) || 0;
      const bSet2 = parseInt(document.getElementById("bSet2").value) || 0;
      const bSet3 = parseInt(document.getElementById("bSet3").value) || 0;

      const player1Total = aSet1 + aSet2 + aSet3;
      const player2Total = bSet1 + bSet2 + bSet3;

      document.getElementById("player1Score").value = player1Total;
      document.getElementById("player2Score").value = player2Total;

      const scoreDisplay = document.getElementById("scoreDisplay");
      scoreDisplay.innerHTML = `
        <strong>Scores:</strong><br>
        Set 1: ${aSet1} - ${bSet1}<br>
        Set 2: ${aSet2} - ${bSet2}<br>
        Set 3: ${aSet3} - ${bSet3}<br>
        Total: ${player1Total} - ${player2Total}
      `;
    });
  </script>
<script>
  const newSetBtn = document.getElementById("newSetBtn");
  const aSet2Cell = document.getElementById("aSet2Cell");
  const aSet3Cell = document.getElementById("aSet3Cell");
  const bSet2Cell = document.getElementById("bSet2Cell");
  const bSet3Cell = document.getElementById("bSet3Cell");
  let currentSet = 1;

  newSetBtn.addEventListener("click", () => {
    if (currentSet === 1) {
      aSet2Cell.style.display = "table-cell";
      bSet2Cell.style.display = "table-cell";
      currentSet++;
    } else if (currentSet === 2) {
      aSet3Cell.style.display = "table-cell";
      bSet3Cell.style.display = "table-cell";
      currentSet++;
      newSetBtn.style.display = "none";
    }
  });
</script>
</body>
</html>\


<nav class="nav-links">
  <a href="schedule.html">Matches</a>
  <a href="upcoming.html">Schedule</a>
  <a href="results.html">Match Results</a>
  <a href="points.html">Points Table</a>
  <a href="players.html">Players</a>
</nav>